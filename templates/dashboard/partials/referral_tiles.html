<!-- templates/partials/referral_tiles.html -->
<div class="grid grid-cols-1">
  {% for referral in referrals %}
  <div class="bg-white shadow-md rounded-2xl p-4 flex flex-col items-center text-center hover:shadow-lg transition">
    <img src="https://cdn-icons-png.flaticon.com/512/8847/8847419.png" 
         alt="Profile" class="w-20 h-20 rounded-full object-cover mb-3">
    <h2 class="text-lg font-semibold text-gray-900">{{ referral.username }}</h2>
    <p class="text-sm text-gray-600">{{ referral.email }}</p>
    <p class="mt-2 text-xs text-gray-500">Joined: {{ referral.date_joined|date:"M d, Y" }}</p>

    <!-- Expand Button -->
    {% if referral.referrals.exists %}
    <button onclick="toggleChildren({{ referral.id }}, this)" 
            class="mt-3 text-blue-600 hover:text-blue-800 text-sm font-medium">
      View Referrals
    </button>
    {% endif %}
  </div>
  {% endfor %}
</div>
