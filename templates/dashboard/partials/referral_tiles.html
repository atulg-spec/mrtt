<!-- templates/partials/referral_tiles.html -->
<div class="flex flex-col items-center space-y-6">
  {% for referral in referrals %}
  <div class="flex flex-col items-center">
    <!-- Tile -->
    <div class="bg-white border border-gray-300 rounded-lg w-48 h-20 flex flex-col justify-center items-center 
                text-center shadow-sm hover:shadow-md transition relative">
      <h2 class="text-sm font-semibold text-gray-900 truncate w-full px-2">{{ referral.username }}</h2>
      <p class="text-xs text-gray-600 truncate w-full px-2">{{ referral.email }}</p>
      
      {% if referral.referrals.exists %}
      <button onclick="toggleChildren({{ referral.id }}, this)" 
              class="absolute bottom-0 right-0 text-blue-600 hover:text-blue-800 text-xs p-1">
        â†“
      </button>
      {% endif %}
    </div>

    <!-- Connector line -->
    {% if referral.referrals.exists %}
    <div class="w-0.5 h-6 bg-gray-400"></div>
    {% endif %}

    <!-- Children container (injected dynamically) -->
    <div class="children-container"></div>
  </div>
  {% endfor %}
</div>
